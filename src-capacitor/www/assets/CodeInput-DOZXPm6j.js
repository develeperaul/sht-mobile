import{d as b,aJ as w,y as f,a0 as k,B as E,c as r,o as c,R as F,F as I,b as V,M as g,S as B,a as K,U as L,aK as M,_ as R}from"./index-Cu7ORWtZ.js";import{u as U}from"./vee-validate-DgmE1SLv.js";const q={class:"input-code-block tw-flex tw-gap-4"},C=["onKeydown"],S=b({__name:"CodeInput",props:{inputsLenght:{default:4}},emits:["filled","unfilled"],setup(m,{emit:_}){const i=m,{inputsLenght:p}=w(i),d=_,l=f([]),s=f(Array(4)),v=e=>{console.log("onInput");let t=e.target.value.replace(/[^\d]/gi,"").substring(0,1);e.target.value=t,l.value.forEach((a,n)=>{if(o.value=t,t&&a===e.target&&l.value.length>n+1){const u=l.value[n+1];console.log(t),l.value[n+1].value===""&&u.focus()}a===e.target&&l.value.length-1>=n&&s.value.splice(n,1,t)})},h=(e,t)=>{if(e.target.value.length>0)e.target.value="";else if(l.value[t-1]){const a=l.value[t-1];e.target.value="",a.focus(),console.log(e.target.value)}},y=e=>{e.target.value&&(e.target.value="",v(e))};k(()=>{}),E(s.value,(e,t)=>{const a=s.value.join("");a.length===i.inputsLenght?(o.value=a,d("filled")):d("unfilled")});const{errorMessage:T,value:o,meta:j}=U("kod",`required|min:${p.value}`,{validateOnValueUpdate:!1});return(e,t)=>(c(),r("div",q,[(c(!0),r(I,null,V(g(p),(a,n)=>(c(),r("input",{key:n,ref_for:!0,ref_key:"inputEl",ref:l,class:"input-code",required:"true",type:"tel",inputmode:"numeric",placeholder:"1",onInput:v,onFocus:y,onKeydown:M(u=>h(u,n),["delete"])},null,40,C))),128)),F(K("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>L(o)?o.value=a:null),type:"number",hidden:"",name:"code"},null,512),[[B,g(o)]])]))}}),J=R(S,[["__scopeId","data-v-b5936cbb"]]);export{J as _};
