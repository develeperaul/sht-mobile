import{T as r,H as i,h as l,N as s}from"./index-Cu7ORWtZ.js";const g=({app:n,router:a})=>{window.addEventListener("unhandledrejection",({reason:e})=>{t(e)}),window.addEventListener("error",e=>{console.error("global",e)}),n.config.errorHandler=(e,o,p)=>{t(e)};async function t(e){if(e instanceof r)return"reload";if(e instanceof i){if(e.response.status===401){l(),console.log("tets"),a.push({name:"auth"});return}else if(e.response.status===403){console.log(403),s.create({type:"negative",message:"Доступ запрещен",position:"top"});return}else if(e.response.status===404){console.log(404),s.create({type:"negative",message:"Ресурс не найден",position:"top"});return}else if(e.response.status===429){console.log(429);const{message:o}=await e.response.json();s.create({type:"negative",message:o,position:"top"});return}else if(e.response.status===422){const{message:o}=await e.response.json();s.create({type:"negative",message:o,position:"top"});return}s.create({type:"negative",message:"Ошибка сервера",position:"top"}),console.log(500);return}console.log(e.response)}};export{g as default};
